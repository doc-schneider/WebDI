<!DOCTYPE html>
<html>
<head>
    <title>Portal Page</title>
	
	<!-- Required meta tags -->
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" media="screen" href="{{ url_for('static', filename='bootstrap-5.0.2-dist/css/bootstrap.min.css') }}">	
    <!-- Optional JS. Popper.js first -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>	
	<script type="text/javascript" src="/static/bootstrap-5.0.2-dist/js/bootstrap.min.js"></script>
	
</head>
<body class="bg-light">

	<div class="container">	
		
		{% set index = keys.index("VIEW_TYPE") %}
									
		<!-- view table -->
		<div class="row pt-5 justify-content-center">
			<div class="col">
				<table class="table table-bordered">
					<thead>
						<tr>
							{% for i in range(n_keys) %} 	
								<th>{{ keys[i] }}</th>
							{% endfor %}
							<th></th>
						</tr>	
					</thead>
					<tbody>
						{% for i in range(n_rows) %}
							<tr>
								{% for j in range(n_keys) %} 
									<td>{{ values[i][j] }}</td>
								{% endfor %}
								<td>
									<!-- action = template type depends on view type -->
									{% if values[i][index] == None %}  <!-- TODO: portal   -->
										{% set action = "/portal/portal" %}
									{% elif values[i][index] == "timeline" %}	
										{% set action = "/timeline/timeline" %}
									{% endif %} 								
									<form method="post" action="{{ action }}" target="_self">  
										<button type="submit" class="btn btn-info" name="portal" value="{{ i }}">view</button>   
									</form>  
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>  
	    </div>  
		
	</div>
	
</body>

</html>